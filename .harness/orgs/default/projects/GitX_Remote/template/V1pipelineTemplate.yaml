template:
  inputs:
    stage1:
      type: stage
    stage2:
      type: stage
  pipeline:
    clone:
      disabled: true
    stages:
      - ${{inputs.stage1}}
      - ${{inputs.stage2}}
      - steps:
          - run:
              container:
                image: alpine
              script: exit 1
            on-failure:
              errors: all
              action: pipeline-rollback
            id: run_1
            name: run_1
        rollback:
          - wait:
              duration: 2m
            id: wait_1
            name: wait_1
        id: V1pipelineTemplate
        name: V1pipelineTemplate
spec:
  type: pipeline
